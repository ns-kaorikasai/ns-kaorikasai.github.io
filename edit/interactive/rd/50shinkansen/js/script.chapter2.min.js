
window.Modernizr=function(e,t,n){function r(e){b.cssText=e}function o(e,t){return r(S.join(e+";")+(t||""))}function i(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function c(e,t){for(var r in e){var o=e[r];if(!a(o,"-")&&b[o]!==n)return"pfx"==t?o:!0}return!1}function s(e,t,r){for(var o in e){var a=t[e[o]];if(a!==n)return r===!1?e[o]:i(a,"function")?a.bind(r||t):a}return!1}function u(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+k.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?c(o,t):(o=(e+" "+T.join(r+" ")+r).split(" "),s(o,t,n))}function l(){m.input=function(n){for(var r=0,o=n.length;o>r;r++)N[n[r]]=!!(n[r]in w);return N.list&&(N.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),N}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),m.inputtypes=function(e){for(var r,o,i,a=0,c=e.length;c>a;a++)w.setAttribute("type",o=e[a]),r="text"!==w.type,r&&(w.value=x,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&w.style.WebkitAppearance!==n?(h.appendChild(w),i=t.defaultView,r=i.getComputedStyle&&"textfield"!==i.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,h.removeChild(w)):/^(search|tel)$/.test(o)||(r=/^(url|email)$/.test(o)?w.checkValidity&&w.checkValidity()===!1:w.value!=x)),A[e[a]]=!!r;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var f,d,p="2.8.3",m={},g=!0,h=t.documentElement,y="modernizr",v=t.createElement(y),b=v.style,w=t.createElement("input"),x=":)",E={}.toString,S=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",k=C.split(" "),T=C.toLowerCase().split(" "),j={svg:"http://www.w3.org/2000/svg"},P={},A={},N={},L=[],O=L.slice,$=function(e,n,r,o){var i,a,c,s,u=t.createElement("div"),l=t.body,f=l||t.createElement("body");if(parseInt(r,10))for(;r--;)c=t.createElement("div"),c.id=o?o[r]:y+(r+1),u.appendChild(c);return i=["&#173;",'<style id="s',y,'">',e,"</style>"].join(""),u.id=y,(l?u:f).innerHTML+=i,f.appendChild(u),l||(f.style.background="",f.style.overflow="hidden",s=h.style.overflow,h.style.overflow="hidden",h.appendChild(f)),a=n(u,e),l?u.parentNode.removeChild(u):(f.parentNode.removeChild(f),h.style.overflow=s),!!a},z=function(){function e(e,o){o=o||t.createElement(r[e]||"div"),e="on"+e;var a=e in o;return a||(o.setAttribute||(o=t.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(e,""),a=i(o[e],"function"),i(o[e],"undefined")||(o[e]=n),o.removeAttribute(e))),o=null,a}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),M={}.hasOwnProperty;d=i(M,"undefined")||i(M.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return M.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=O.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var i=new o,a=t.apply(i,n.concat(O.call(arguments)));return Object(a)===a?a:i}return t.apply(e,n.concat(O.call(arguments)))};return r}),P.flexbox=function(){return u("flexWrap")},P.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},P.canvastext=function(){return!(!m.canvas||!i(t.createElement("canvas").getContext("2d").fillText,"function"))},P.webgl=function(){return!!e.WebGLRenderingContext},P.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:$(["@media (",S.join("touch-enabled),("),y,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},P.geolocation=function(){return"geolocation"in navigator},P.postmessage=function(){return!!e.postMessage},P.websqldatabase=function(){return!!e.openDatabase},P.indexedDB=function(){return!!u("indexedDB",e)},P.hashchange=function(){return z("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},P.history=function(){return!(!e.history||!history.pushState)},P.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},P.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},P.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},P.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},P.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},P.backgroundsize=function(){return u("backgroundSize")},P.borderimage=function(){return u("borderImage")},P.borderradius=function(){return u("borderRadius")},P.boxshadow=function(){return u("boxShadow")},P.textshadow=function(){return""===t.createElement("div").style.textShadow},P.opacity=function(){return o("opacity:.55"),/^0.55$/.test(b.opacity)},P.cssanimations=function(){return u("animationName")},P.csscolumns=function(){return u("columnCount")},P.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((e+"-webkit- ".split(" ").join(t+e)+S.join(n+e)).slice(0,-e.length)),a(b.backgroundImage,"gradient")},P.cssreflections=function(){return u("boxReflect")},P.csstransforms=function(){return!!u("transform")},P.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in h.style&&$("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},P.csstransitions=function(){return u("transition")},P.fontface=function(){var e;return $('@font-face {font-family:"font";src:url("https://")}',function(n,r){var o=t.getElementById("smodernizr"),i=o.sheet||o.styleSheet,a=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),e},P.generatedcontent=function(){var e;return $(["#",y,"{font:0/0 a}#",y,':after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},P.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n},P.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n},P.localstorage=function(){try{return localStorage.setItem(y,y),localStorage.removeItem(y),!0}catch(e){return!1}},P.sessionstorage=function(){try{return sessionStorage.setItem(y,y),sessionStorage.removeItem(y),!0}catch(e){return!1}},P.webworkers=function(){return!!e.Worker},P.applicationcache=function(){return!!e.applicationCache},P.svg=function(){return!!t.createElementNS&&!!t.createElementNS(j.svg,"svg").createSVGRect},P.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==j.svg},P.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(E.call(t.createElementNS(j.svg,"animate")))},P.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(E.call(t.createElementNS(j.svg,"clipPath")))};for(var B in P)d(P,B)&&(f=B.toLowerCase(),m[f]=P[B](),L.push((m[f]?"":"no-")+f));return m.input||l(),m.addTest=function(e,t){if("object"==typeof e)for(var r in e)d(e,r)&&m.addTest(r,e[r]);else{if(e=e.toLowerCase(),m[e]!==n)return m;t="function"==typeof t?t():t,"undefined"!=typeof g&&g&&(h.className+=" "+(t?"":"no-")+e),m[e]=t}return m},r(""),v=w=null,m._version=p,m._prefixes=S,m._domPrefixes=T,m._cssomPrefixes=k,m.hasEvent=z,m.testProp=function(e){return c([e])},m.testAllProps=u,m.testStyles=$,m.prefixed=function(e,t,n){return t?u(e,t,n):u(e,"pfx")},h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+L.join(" "):""),m}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==h.call(e)}function o(e){return"string"==typeof e}function i(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function c(){var e=y.shift();v=1,e?e.t?m(function(){("c"==e.t?d.injectCss:d.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),c()):v=0}function s(e,n,r,o,i,s,u){function l(t){if(!p&&a(f.readyState)&&(b.r=p=1,!v&&c(),f.onload=f.onreadystatechange=null,t)){"img"!=e&&m(function(){x.removeChild(f)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var u=u||d.errorTimeout,f=t.createElement(e),p=0,h=0,b={t:r,s:n,e:i,a:s,x:u};1===T[n]&&(h=1,T[n]=[]),"object"==e?f.data=n:(f.src=n,f.type=e),f.width=f.height="0",f.onerror=f.onload=f.onreadystatechange=function(){l.call(this,h)},y.splice(o,0,b),"img"!=e&&(h||2===T[n]?(x.insertBefore(f,w?null:g),m(l,u)):T[n].push(f))}function u(e,t,n,r,i){return v=0,t=t||"j",o(e)?s("c"==t?S:E,e,t,this.i++,n,r,i):(y.splice(this.i++,0,e),1==y.length&&c()),this}function l(){var e=d;return e.loader={load:u,i:0},e}var f,d,p=t.documentElement,m=e.setTimeout,g=t.getElementsByTagName("script")[0],h={}.toString,y=[],v=0,b="MozAppearance"in p.style,w=b&&!!t.createRange().compareNode,x=w?p:g.parentNode,p=e.opera&&"[object Opera]"==h.call(e.opera),p=!!t.attachEvent&&!p,E=b?"object":p?"script":"img",S=p?"script":E,C=Array.isArray||function(e){return"[object Array]"==h.call(e)},k=[],T={},j={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};d=function(e){function t(e){var t,n,r,e=e.split("!"),o=k.length,i=e.pop(),a=e.length,i={url:i,origUrl:i,prefixes:e};for(n=0;a>n;n++)r=e[n].split("="),(t=j[r.shift()])&&(i=t(i,r));for(n=0;o>n;n++)i=k[n](i);return i}function a(e,o,i,a,c){var s=t(e),u=s.autoCallback;s.url.split(".").pop().split("?").shift(),s.bypass||(o&&(o=r(o)?o:o[e]||o[a]||o[e.split("/").pop().split("?")[0]]),s.instead?s.instead(e,o,i,a,c):(T[s.url]?s.noexec=!0:T[s.url]=1,i.load(s.url,s.forceCSS||!s.forceJS&&"css"==s.url.split(".").pop().split("?").shift()?"c":n,s.noexec,s.attrs,s.timeout),(r(o)||r(u))&&i.load(function(){l(),o&&o(s.origUrl,c,a),u&&u(s.origUrl,c,a),T[s.url]=2})))}function c(e,t){function n(e,n){if(e){if(o(e))n||(f=function(){var e=[].slice.call(arguments);d.apply(this,e),p()}),a(e,f,t,0,u);else if(Object(e)===e)for(s in c=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(s)&&(!n&&!--c&&(r(f)?f=function(){var e=[].slice.call(arguments);d.apply(this,e),p()}:f[s]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(d[s])),a(e[s],f,t,s,u))}else!n&&p()}var c,s,u=!!e.test,l=e.load||e.both,f=e.callback||i,d=f,p=e.complete||i;n(u?e.yep:e.nope,!!l),l&&n(l)}var s,u,f=this.yepnope.loader;if(o(e))a(e,0,f,0);else if(C(e))for(s=0;s<e.length;s++)u=e[s],o(u)?a(u,0,f,0):C(u)?d(u):Object(u)===u&&c(u,f);else Object(e)===e&&c(e,f)},d.addPrefix=function(e,t){j[e]=t},d.addFilter=function(e){k.push(e)},d.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",f=function(){t.removeEventListener("DOMContentLoaded",f,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=c,e.yepnope.injectJs=function(e,n,r,o,s,u){var l,f,p=t.createElement("script"),o=o||d.errorTimeout;p.src=e;for(f in r)p.setAttribute(f,r[f]);n=u?c:n||i,p.onreadystatechange=p.onload=function(){!l&&a(p.readyState)&&(l=1,n(),p.onload=p.onreadystatechange=null)},m(function(){l||(l=1,n(1))},o),s?p.onload():g.parentNode.insertBefore(p,g)},e.yepnope.injectCss=function(e,n,r,o,a,s){var u,o=t.createElement("link"),n=s?c:n||i;o.href=e,o.rel="stylesheet",o.type="text/css";for(u in r)o.setAttribute(u,r[u]);a||(g.parentNode.insertBefore(o,g),m(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
!function(t){"function"==typeof define&&define.amd?define(["jquery","modernizr"],t):t(window.jQuery,window.Modernizr)}(function(t,e,i){"use strict";function s(t){return t?t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"):""}function n(e,i,s){var n,r,o,a=null,l=0;s=s||{};var u=function(){l=s.leading===!1?0:t.now(),a=null,o=e.apply(n,r),n=r=null};return function(){var h=t.now();l||s.leading!==!1||(l=h);var f=i-(h-l);return n=this,r=arguments,0>=f||f>i?(clearTimeout(a),a=null,l=h,o=e.apply(n,r),n=r=null):a||s.trailing===!1||(a=setTimeout(u,f)),o}}if("object"!=typeof e)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var r=e.prefixed("transition"),o=e.prefixed("transitionDelay"),a=e.prefixed("transitionDuration"),l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],u=e.prefixed("transform"),h=s(u),f=e.csstransforms&&e.csstransitions,d=e.csstransforms3d,c="shuffle",p="all",m="groups",_=1,y=.001,g=0,v=function(e,i){i=i||{},t.extend(this,v.options,i,v.settings),this.$el=t(e),this.$window=t(window),this.unique="shuffle_"+g++,this._fire(v.EventType.LOADING),this._init(),setTimeout(t.proxy(function(){this.initialized=!0,this._fire(v.EventType.DONE)},this),16)};return v.EventType={LOADING:"loading",DONE:"done",SHRINK:"shrink",SHRUNK:"shrunk",FILTER:"filter",FILTERED:"filtered",SORTED:"sorted",LAYOUT:"layout",REMOVED:"removed"},v.prototype={_init:function(){var e,i,s=this,n=t.proxy(s._onResize,s),o=s.throttle?s.throttle(n,s.throttleTime):n,a=s.initialSort?s.initialSort:null;s._layoutList=[],s._shrinkList=[],s._setVars(),s._resetCols(),s._addClasses(),s._initItems(),s.$window.on("resize."+c+"."+s.unique,o),e=s.$el.css(["paddingLeft","paddingRight","position"]),i=s._getOuterWidth(s.$el[0]),"static"===e.position&&(s.$el[0].style.position="relative"),s.offset={left:parseInt(e.paddingLeft,10)||0,top:parseInt(e.paddingTop,10)||0},s._setColumns(parseInt(i,10)),s.shuffle(s.group,a),s.supported&&setTimeout(function(){s._setTransitions(),s.$el[0].style[r]="height "+s.speed+"ms "+s.easing},0)},_addClasses:function(){this.$el.addClass(c),this.$items.addClass("shuffle-item filtered")},_setVars:function(){var e=this,i=e.columnWidth;e.$items=e._getItems(),0===i&&null!==e.sizer&&(i=e.sizer),"string"==typeof i?e.$sizer=e.$el.find(i):i&&i.nodeType&&1===i.nodeType?e.$sizer=t(i):i&&i.jquery&&(e.$sizer=i),e.$sizer&&e.$sizer.length&&(e.useSizer=!0,e.sizer=e.$sizer[0])},_filter:function(e,s){var n=this,r=s!==i,o=r?s:n.$items,a=t();return e=e||n.lastFilter,n._fire(v.EventType.FILTER),t.isFunction(e)?o.each(function(){var i=t(this);e.call(i[0],i,n)&&(a=a.add(i))}):(n.group=e,e===p?a=o:o.each(function(){var i=t(this),s=i.data(m),r=n.delimeter&&!t.isArray(s)?s.split(n.delimeter):s;t.inArray(e,r)>-1&&(a=a.add(i))})),n._toggleFilterClasses(o,a),o=null,s=null,a},_toggleFilterClasses:function(e,i){var s="concealed",n="filtered";e.filter(i).each(function(){var e=t(this);e.hasClass(s)&&e.removeClass(s),e.hasClass(n)||e.addClass(n)}),e.not(i).each(function(){var e=t(this);e.hasClass(s)||e.addClass(s),e.hasClass(n)&&e.removeClass(n)})},_initItems:function(t){t=t||this.$items,t.css(this.itemCss).data("position",{x:0,y:0})},_updateItemCount:function(){this.visibleItems=this.$items.filter(".filtered").length},_setTransition:function(t){t.style[r]=h+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},_setTransitions:function(t){var e=this;t=t||e.$items,t.each(function(){e._setTransition(this)})},_setSequentialDelay:function(e){var i=this;i.supported&&t.each(e,function(e,s){s.style[o]="0ms,"+(e+1)*i.sequentialFadeDelay+"ms",t(s).on(l+"."+i.unique,function(e){var s=e.currentTarget;s===e.target&&(s.style[o]="0ms",t(s).off(l+"."+i.unique))})})},_getItems:function(){return this.$el.children(this.itemSelector)},_getPreciseDimension:function(e,i){var s;return s=window.getComputedStyle?window.getComputedStyle(e,null)[i]:t(e).css(i),parseFloat(s)},_getOuterWidth:function(e,i){var s=e.offsetWidth;if(i){var n=t(e).css(["marginLeft","marginRight"]),r=parseFloat(n.marginLeft)||0,o=parseFloat(n.marginRight)||0;s+=r+o}return s},_getOuterHeight:function(e,i){var s=e.offsetHeight;if(i){var n=t(e).css(["marginTop","marginBottom"]),r=parseFloat(n.marginTop)||0,o=parseFloat(n.marginBottom)||0;s+=r+o}return s},_getColumnSize:function(e,i){var s;return s=t.isFunction(this.columnWidth)?this.columnWidth(i):this.useSizer?this._getPreciseDimension(this.sizer,"width"):this.columnWidth?this.columnWidth:this.$items.length>0?this._getOuterWidth(this.$items[0],!0):i,0===s&&(s=i),s+e},_getGutterSize:function(e){var i;return i=t.isFunction(this.gutterWidth)?this.gutterWidth(e):this.useSizer?this._getPreciseDimension(this.sizer,"marginLeft"):this.gutterWidth},_setColumns:function(t){var e=t||this._getOuterWidth(this.$el[0]),i=this._getGutterSize(e),s=this._getColumnSize(i,e),n=(e+i)/s;Math.abs(Math.round(n)-n)<.03&&(n=Math.round(n)),this.cols=Math.max(Math.floor(n),1),this.containerWidth=e,this.colWidth=s},_setContainerSize:function(){this.$el.css("height",Math.max.apply(Math,this.colYs))},_fire:function(t,e){this.$el.trigger(t+"."+c,e&&e.length?e:[this])},_layout:function(e,i,s){var n=this;i=i||n._filterEnd,t.each(e,function(e,r){var o=t(r),a=o.data(),l=a.position,u=n._getItemPosition(o);if(o.data("position",u),u.x!==l.x||u.y!==l.y||a.scale!==_){var h={$item:o,x:u.x,y:u.y,scale:_};s?(h.skipTransition=!0,h.opacity=0):(h.opacity=1,h.callback=i),n.styleQueue.push(h),n._layoutList.push(o[0])}}),n._processStyleQueue(),n._setContainerSize()},_resetCols:function(){var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0)},_reLayout:function(){this._resetCols(),this.lastSort?this.sort(this.lastSort,!0):this._layout(this.$items.filter(".filtered").get(),this._filterEnd)},_getItemPosition:function(t){var e=this,i=e._getOuterWidth(t[0],!0),s=i/e.colWidth;Math.abs(Math.round(s)-s)<.03&&(s=Math.round(s));var n=Math.min(Math.ceil(s),e.cols);if(1===n)return e._placeItem(t,e.colYs);var r,o,a=e.cols+1-n,l=[];for(o=0;a>o;o++)r=e.colYs.slice(o,o+n),l[o]=Math.max.apply(Math,r);return e._placeItem(t,l)},_placeItem:function(t,e){for(var i=this,s=Math.min.apply(Math,e),n=0,r=0,o=e.length;o>r;r++)if(e[r]>=s-i.buffer&&e[r]<=s+i.buffer){n=r;break}var a={x:Math.round(i.colWidth*n+i.offset.left),y:Math.round(s+i.offset.top)},l=s+i._getOuterHeight(t[0],!0),u=i.cols+1-o;for(r=0;u>r;r++)i.colYs[n+r]=l;return a},_shrink:function(e,i){var s=this,n=e||s.$items.filter(".concealed");i=i||s._shrinkEnd,n.length&&(s._fire(v.EventType.SHRINK),n.each(function(){var e=t(this),n=e.data(),r=n.scale===y;if(!r){var o={$item:e,x:n.position.x,y:n.position.y,scale:y,opacity:0,callback:i};s.styleQueue.push(o),s._shrinkList.push(e[0])}}))},_onResize:function(){if(this.enabled&&!this.destroyed){var t=this._getOuterWidth(this.$el[0]);t!==this.containerWidth&&this.resized()}},_getItemTransformString:function(t,e,i){return d?"translate3d("+t+"px, "+e+"px, 0) scale3d("+i+", "+i+", 1)":"translate("+t+"px, "+e+"px) scale("+i+", "+i+")"},_getStylesForTransition:function(t){var e={opacity:t.opacity};return this.supported?t.x!==i&&(e[u]=this._getItemTransformString(t.x,t.y,t.scale)):(e.left=t.x,e.top=t.y),1===t.opacity&&(e.visibility="visible"),e},_transition:function(t){t.$item.data("scale",t.scale);var e=this._getStylesForTransition(t);this._startItemAnimation(t.$item,e,t.callback)},_startItemAnimation:function(e,i,s){var n=1===i.opacity,r=t.proxy(this._handleItemAnimationEnd,this,s||t.noop,e[0],n);this.supported?(e.css(i),this.initialized?e.on(l+".shuffleitem",r):r()):("visibility"in i&&(e.css("visibility",i.visibility),delete i.visibility),e.stop(!0).animate(i,this.speed,"swing",r))},_handleItemAnimationEnd:function(e,i,s,n){if(n){if(n.target!==i)return;t(i).off(".shuffleitem")}this._layoutList.length>0&&t.inArray(i,this._layoutList)>-1?(this._fire(v.EventType.LAYOUT),e.call(this),this._layoutList.length=0):this._shrinkList.length>0&&t.inArray(i,this._shrinkList)>-1&&(e.call(this),this._shrinkList.length=0),s||(i.style.visibility="hidden")},_processStyleQueue:function(){var e=this;t.each(this.styleQueue,function(t,i){i.skipTransition?e._skipTransition(i.$item[0],function(){i.$item.css(e._getStylesForTransition(i))}):e._transition(i)}),e.styleQueue.length=0},_shrinkEnd:function(){this._fire(v.EventType.SHRUNK)},_filterEnd:function(){this._fire(v.EventType.FILTERED)},_sortEnd:function(){this._fire(v.EventType.SORTED)},_skipTransition:function(e,i,s){var n=e.style[a];e.style[a]="0ms",t.isFunction(i)?i():e.style[i]=s;var r=e.offsetWidth;r=null,e.style[a]=n},_addItems:function(t,e,s){var n=this;n.supported||(e=!1),t.addClass("shuffle-item"),n._initItems(t),n._setTransitions(t),n.$items=n._getItems(),t.css("opacity",0);var r=n._filter(i,t),o=r.get();n._updateItemCount(),e?(n._layout(o,null,!0),s&&n._setSequentialDelay(r),n._revealAppended(r)):n._layout(o)},_revealAppended:function(e){var i=this;setTimeout(function(){e.each(function(e,s){i._transition({$item:t(s),opacity:1,scale:_})})},i.revealAppendedDelay)},shuffle:function(t,e){var i=this;i.enabled&&(t||(t=p),i._filter(t),i.lastFilter=t,i._updateItemCount(),i._shrink(),e&&(i.lastSort=e),i._reLayout())},sort:function(t,e){var i=this,s=i.$items.filter(".filtered").sorted(t);e||i._resetCols(),i._layout(s,function(){e&&i._filterEnd(),i._sortEnd()}),i.lastSort=t},resized:function(t){this.enabled&&(t||this._setColumns(),this._reLayout())},layout:function(){this.update(!0)},update:function(t){this.resized(t)},appended:function(t,e,i){e=e===!1?!1:!0,i=i===!1?!1:!0,this._addItems(t,e,i)},disable:function(){this.enabled=!1},enable:function(t){this.enabled=!0,t!==!1&&this.update()},remove:function(t){if(t.length&&t.jquery){var e=this;return e._shrink(t,function(){var e=this;t.remove(),setTimeout(function(){e.$items=e._getItems(),e.layout(),e._updateItemCount(),e._fire(v.EventType.REMOVED,[t,e]),t=null},0)}),e._processStyleQueue(),e}},destroy:function(){var t=this;t.$window.off("."+t.unique),t.$el.removeClass(c).removeAttr("style").removeData(c),t.$items.removeAttr("style").removeClass("concealed filtered shuffle-item"),t.$window=null,t.$items=null,t.$el=null,t.$sizer=null,t.sizer=null,t.destroyed=!0}},v.options={group:p,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:n,throttleTime:300,sequentialFadeDelay:150,supported:f},v.settings={$sizer:null,useSizer:!1,itemCss:{position:"absolute",top:0,left:0},offset:{top:0,left:0},revealAppendedDelay:300,enabled:!0,destroyed:!1,initialized:!1,styleQueue:[]},t.fn.shuffle=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),n=s.data(c);n||(n=new v(s,e),s.data(c,n)),"string"==typeof e&&n[e]&&n[e].apply(n,i)})},t.fn.sorted=function(e){var s=t.extend({},t.fn.sorted.defaults,e),n=this.get(),r=!1;return n.length?s.randomize?t.fn.sorted.randomize(n):(s.by!==t.noop&&null!==s.by&&s.by!==i&&n.sort(function(e,n){if(r)return 0;var o=s.by(t(e)),a=s.by(t(n));return o===i&&a===i?(r=!0,0):"sortFirst"===o||"sortLast"===a?-1:"sortLast"===o||"sortFirst"===a?1:a>o?-1:o>a?1:0}),r?this.get():(s.reverse&&n.reverse(),n)):[]},t.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},t.fn.sorted.randomize=function(t){var e,i,s=t.length;if(!s)return t;for(;--s;)i=Math.floor(Math.random()*(s+1)),e=t[i],t[i]=t[s],t[s]=e;return t},v});
!function(t,i){"$:nomunge";var e,n=t.jQuery||t.Cowboy||(t.Cowboy={});n.throttle=e=function(t,e,o,u){function a(){function n(){r=+new Date,o.apply(f,l)}function a(){s=i}var f=this,c=+new Date-r,l=arguments;u&&!s&&n(),s&&clearTimeout(s),u===i&&c>t?n():e!==!0&&(s=setTimeout(u?a:n,u===i?t-c:t))}var s,r=0;return"boolean"!=typeof e&&(u=o,o=e,e=i),n.guid&&(a.guid=o.guid=o.guid||n.guid++),a},n.debounce=function(t,n,o){return o===i?e(t,n,!1):e(t,o,n!==!1)}}(this);var DEMO=function(t){"use strict";var i=t("#index"),e=t(".filter-options"),n=i.find(".shuffle__sizer"),o=function(){setTimeout(function(){s(),u(),a()},100),i.shuffle({itemSelector:".chapter2_index_list_item",sizer:n})},u=function(){var n=e.children();n.on("click",function(){var e=t(this),n=e.hasClass("active"),o=n?"category-1":e.data("group");n?t(".filter-options .btn:first-child").addClass("active"):t(".filter-options .active").removeClass("active"),e.toggleClass("active"),i.shuffle("shuffle",o)}),n=null},a=function(){var n=e.children(),o=t(".filter-options .btn"),u=o.hasClass("active"),a=u?"category-1":o.data("group");t(".filter-options .btn:first-child").addClass("active"),i.shuffle("shuffle",a),n=null},s=function(){var e=t.throttle(300,function(){i.shuffle("update")});i.find("img").each(function(){var i;this.complete&&void 0!==this.naturalWidth||(i=new Image,t(i).on("load",function(){t(this).off("load"),e()}),i.src=this.src)}),setTimeout(function(){e()},500)};return{init:o}}(jQuery);$(document).ready(function(){DEMO.init()});
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),f=o.data("bs.affix"),n="object"==typeof e&&e;f||o.data("bs.affix",f=new i(this,n)),"string"==typeof e&&f[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.2.0",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),o=this.$target.scrollTop(),f=this.$element.offset(),n=this.options.offset,s=n.top,a=n.bottom;"object"!=typeof n&&(a=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof a&&(a=n.bottom(this.$element));var h=null!=this.unpin&&o+this.unpin<=f.top?!1:null!=a&&f.top+this.$element.height()>=e-a?"bottom":null!=s&&s>=o?"top":!1;if(this.affixed!==h){null!=this.unpin&&this.$element.css("top","");var r="affix"+(h?"-"+h:""),p=t.Event(r+".bs.affix");this.$element.trigger(p),p.isDefaultPrevented()||(this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(r).trigger(t.Event(r.replace("affix","affixed"))),"bottom"==h&&this.$element.offset({top:e-this.$element.height()-a}))}}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},o.offsetBottom&&(o.offset.bottom=o.offsetBottom),o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);
!function(e,t){"use strict";function i(t){return E.formatter=h,L=e("body"),z=k(),O=z!==!1,O||(z="transitionend.boxer"),e(this).on("click.boxer",e.extend({},E,t||{}),o)}function o(i){var o=e(this),a=i.data.$object,r=o[0].attributes?o.attr("href")||"":"",d=r.toLowerCase().split(".").pop().split(/\#|\?/),h=d[0],c="",s="image"===c||e.inArray(h,i.data.extensions)>-1||"data:image"===r.substr(0,10),p=r.indexOf("youtube.com/embed")>-1||r.indexOf("player.vimeo.com/video")>-1,b="url"===c||!s&&!p&&"http"===r.substr(0,4),w="element"===c||!s&&!p&&!b&&"#"===r.substr(0,1),W="undefined"!=typeof a;if(!(e("#boxer").length>1)&&(s||p||b||w||W)){if(T(i),A=e.extend({},{$window:e(t),$body:e("body"),$target:o,$object:a,visible:!1,resizeTimer:null,touchTimer:null,gallery:{active:!1},isMobile:P||i.data.mobile,isAnimating:!0,oldContentHeight:0,oldContentWidth:0},i.data),A.margin*=2,A.containerHeight=A.height,A.containerWidth=A.width,A.type=s?"image":p?"video":"element",s||p){var y=A.$target.data("gallery")||A.$target.attr("rel");"undefined"!=typeof y&&y!==!1&&(A.gallery.active=!0,A.gallery.id=y,A.gallery.$items=e("a[data-gallery= "+A.gallery.id+"], a[rel= "+A.gallery.id+"]"),A.gallery.index=A.gallery.$items.index(A.$target),A.gallery.total=A.gallery.$items.length-1)}var M="";return A.isMobile||(M+='<div id="boxer-overlay" class="'+A.customClass+'"></div>'),M+='<div id="boxer" class="loading animating '+A.customClass,A.isMobile&&(M+=" mobile number-"+(A.gallery.index+1)),b&&(M+=" iframe"),(w||W)&&(M+=" inline"),M+='"',A.fixed===!0&&(M+=' style="position: fixed;"'),M+=">",M+='<span class="boxer-close">'+A.labels.close+"</span>",M+='<div class="boxer-container" style="',M+=A.isMobile?"height: 100%; width: 100%":"height: "+A.height+"px; width: "+A.width+"px",M+='">',M+='<div class="boxer-content">',(s||p)&&(M+='<div class="boxer-meta">',A.gallery.active?(M+='<div class="boxer-control previous">'+A.labels.previous+"</div>",M+='<div class="boxer-control next">'+A.labels.next+"</div>",M+='<div class="boxer-caption gallery">'):M+='<div class="boxer-caption">',M+=A.formatter.apply(A.$body,[A.$target]),M+="</div></div>"),M+="</div></div></div>",A.$body.append(M),A.$overlay=e("#boxer-overlay"),A.$boxer=e("#boxer"),A.$container=A.$boxer.find(".boxer-container"),A.$content=A.$boxer.find(".boxer-content"),A.$meta=A.$boxer.find(".boxer-meta"),A.$position=A.$boxer.find(".boxer-position"),A.$caption=A.$boxer.find(".boxer-caption"),A.$controls=A.$boxer.find(".boxer-control"),A.paddingVertical=parseInt(A.$boxer.css("paddingTop"),10)+parseInt(A.$boxer.css("paddingBottom"),10),A.paddingHorizontal=parseInt(A.$boxer.css("paddingLeft"),10)+parseInt(A.$boxer.css("paddingRight"),10),g(),A.gallery.active&&u(),A.$window.on("resize.boxer",S.resize).on("keydown.boxer",x),A.$body.on("touchstart.boxer click.boxer","#boxer-overlay, #boxer .boxer-close",n).on("touchmove.boxer",T),A.gallery.active&&A.$boxer.on("touchstart.boxer click.boxer",".boxer-control",f),A.$boxer.on(z,function(t){T(t),e(t.target).is(A.$boxer)&&(A.$boxer.off(z),s?l(r):p?m(r):b?v(r):w?$(r):W?H(A.$object):e.error("BOXER: '"+r+"' is not valid."))}),L.addClass("boxer-open"),O||A.$boxer.trigger(z),W?A.$boxer:void 0}}function n(t){T(t),"undefined"!=typeof A.$boxer&&(A.$boxer.on(z,function(t){T(t),e(t.target).is(A.$boxer)&&(A.$boxer.off(z),A.$overlay.remove(),A.$boxer.remove(),A={})}).addClass("animating"),L.removeClass("boxer-open"),O||A.$boxer.trigger(z),j(A.resizeTimer),A.$window.off("resize.boxer").off("keydown.boxer"),A.$body.off(".boxer").removeClass("boxer-open"),A.gallery.active&&A.$boxer.off(".boxer"),A.isMobile&&"image"===A.type&&A.gallery.active&&A.$container.off(".boxer"),A.$window.trigger("close.boxer"))}function a(){{var t=d(),i=0;A.isMobile?0:A.duration}A.isMobile||(i=A.$controls.outerHeight(),A.$controls.css({marginTop:(A.contentHeight-i)/2})),!A.visible&&A.isMobile&&A.gallery.active&&A.$content.on("touchstart.boxer",".boxer-image",y),(A.isMobile||A.fixed)&&A.$body.addClass("boxer-open"),A.$boxer.css({left:t.left,top:t.top}),A.$container.on(z,function(t){T(t),e(t.target).is(A.$container)&&(A.$container.off(z),A.$content.on(z,function(t){T(t),e(t.target).is(A.$content)&&(A.$content.off(z),A.$boxer.removeClass("animating"),A.isAnimating=!1)}),A.$boxer.removeClass("loading"),O||A.$content.trigger(z),A.visible=!0,A.callback.apply(A.$boxer),A.$window.trigger("open.boxer"),A.gallery.active&&b())}).css({height:A.containerHeight,width:A.containerWidth});var o=A.oldContentHeight!==A.contentHeight||A.oldContentWidth!==A.contentWidth;!A.isMobile&&O&&o||A.$container.trigger(z),A.oldContentHeight=A.contentHeight,A.oldContentWidth=A.contentWidth}function r(e){if(e=e||!1,A.visible){var t=d(),i=0;A.isMobile||(i=A.$controls.outerHeight(),A.$controls.css({marginTop:(A.contentHeight-i)/2})),A.$boxer.css({left:t.left,top:t.top}),A.$container.css({height:A.containerHeight,width:A.containerWidth})}}function g(){var e=d();A.$boxer.css({left:e.left,top:e.top})}function d(){if(A.isMobile)return{left:0,top:0};var e={left:(A.$window.width()-A.containerWidth-A.paddingHorizontal)/2,top:A.top<=0?(A.$window.height()-A.containerHeight-A.paddingVertical)/2:A.top};return A.fixed!==!0&&(e.top+=A.$window.scrollTop()),e}function h(e){var t=e.attr("data-title");return console.log(t),""!==t&&void 0!==t?'<p class="caption">'+t+"</p>":""}function l(t){A.$image=e("<img />"),A.$image.one("load.boxer",function(){var e=C(A.$image);A.naturalHeight=e.naturalHeight,A.naturalWidth=e.naturalWidth,A.retina&&(A.naturalHeight/=2,A.naturalWidth/=2),A.$content.prepend(A.$image),""===A.$caption.html()?A.$caption.hide():A.$caption.show(),c(),a()}).attr("src",t).addClass("boxer-image"),(A.$image[0].complete||4===A.$image[0].readyState)&&A.$image.trigger("load")}function c(){var e=0;for(A.windowHeight=A.viewportHeight=A.$window.height(),A.windowWidth=A.viewportWidth=A.$window.width(),A.containerHeight=1/0,A.contentHeight=0,A.containerWidth=1/0,A.contentWidth=0,A.imageMarginTop=0,A.imageMarginLeft=0;A.containerHeight>A.viewportHeight&&2>e;)A.imageHeight=0===e?A.naturalHeight:A.$image.outerHeight(),A.imageWidth=0===e?A.naturalWidth:A.$image.outerWidth(),A.metaHeight=0===e?0:A.metaHeight,0===e&&(A.ratioHorizontal=A.imageHeight/A.imageWidth,A.ratioVertical=A.imageWidth/A.imageHeight,A.isWide=A.imageWidth>A.imageHeight),A.imageHeight<A.minHeight&&(A.minHeight=A.imageHeight),A.imageWidth<A.minWidth&&(A.minWidth=A.imageWidth),A.isMobile?(A.$meta.css({width:A.windowWidth}),A.metaHeight=A.$meta.outerHeight(!0),A.contentHeight=A.viewportHeight,A.contentWidth=A.viewportWidth,A.containerHeight=A.viewportHeight-A.paddingVertical,A.containerWidth=A.viewportWidth-A.paddingHorizontal,s(),A.imageMarginTop=(A.containerHeight-A.targetImageHeight-A.metaHeight)/2,A.imageMarginLeft=(A.containerWidth-A.targetImageWidth)/2):(0===e&&(A.viewportHeight-=A.margin+A.paddingVertical,A.viewportWidth-=A.margin+A.paddingHorizontal),A.viewportHeight-=A.metaHeight,s(),A.containerHeight=A.contentHeight=A.targetImageHeight,A.containerWidth=A.contentWidth=A.targetImageWidth),A.$content.css({height:A.isMobile?A.contentHeight:"auto",width:A.contentWidth}),A.$meta.css({width:A.contentWidth}),A.$image.css({height:A.targetImageHeight,width:A.targetImageWidth,marginTop:A.imageMarginTop,marginLeft:A.imageMarginLeft}),A.isMobile||(A.metaHeight=A.$meta.outerHeight(!0),A.containerHeight+=A.metaHeight),e++}function s(){var e=A.isMobile?A.containerHeight-A.metaHeight:A.viewportHeight,t=A.isMobile?A.containerWidth:A.viewportWidth;A.isWide?(A.targetImageWidth=t,A.targetImageHeight=A.targetImageWidth*A.ratioHorizontal,A.targetImageHeight>e&&(A.targetImageHeight=e,A.targetImageWidth=A.targetImageHeight*A.ratioVertical)):(A.targetImageHeight=e,A.targetImageWidth=A.targetImageHeight*A.ratioVertical,A.targetImageWidth>t&&(A.targetImageWidth=t,A.targetImageHeight=A.targetImageWidth*A.ratioHorizontal)),(A.targetImageWidth>A.imageWidth||A.targetImageHeight>A.imageHeight)&&(A.targetImageHeight=A.imageHeight,A.targetImageWidth=A.imageWidth),(A.targetImageWidth<A.minWidth||A.targetImageHeight<A.minHeight)&&(A.targetImageWidth<A.minWidth?(A.targetImageWidth=A.minWidth,A.targetImageHeight=A.targetImageWidth*A.ratioHorizontal):(A.targetImageHeight=A.minHeight,A.targetImageWidth=A.targetImageHeight*A.ratioVertical))}function m(t){A.$videoWrapper=e('<div class="boxer-video-wrapper" />'),A.$video=e('<iframe class="boxer-video" seamless="seamless" />'),A.$video.attr("src",t).addClass("boxer-video").prependTo(A.$videoWrapper),A.$content.prepend(A.$videoWrapper),p(),a()}function p(){A.windowHeight=A.viewportHeight=A.contentHeight=A.$window.height()-A.paddingVertical,A.windowWidth=A.viewportWidth=A.contentWidth=A.$window.width()-A.paddingHorizontal,A.videoMarginTop=0,A.videoMarginLeft=0,A.isMobile?(A.$meta.css({width:A.windowWidth}),A.metaHeight=A.$meta.outerHeight(!0),A.viewportHeight-=A.metaHeight,A.targetVideoWidth=A.viewportWidth,A.targetVideoHeight=A.targetVideoWidth*A.videoRatio,A.targetVideoHeight>A.viewportHeight&&(A.targetVideoHeight=A.viewportHeight,A.targetVideoWidth=A.targetVideoHeight/A.videoRatio),A.videoMarginTop=(A.viewportHeight-A.targetVideoHeight)/2,A.videoMarginLeft=(A.viewportWidth-A.targetVideoWidth)/2):(A.viewportHeight=A.windowHeight-A.margin,A.viewportWidth=A.windowWidth-A.margin,A.targetVideoWidth=A.videoWidth>A.viewportWidth?A.viewportWidth:A.videoWidth,A.targetVideoWidth<A.minWidth&&(A.targetVideoWidth=A.minWidth),A.targetVideoHeight=A.targetVideoWidth*A.videoRatio,A.contentHeight=A.targetVideoHeight,A.contentWidth=A.targetVideoWidth),A.$content.css({height:A.isMobile?A.contentHeight:"auto",width:A.contentWidth}),A.$meta.css({width:A.contentWidth}),A.$videoWrapper.css({height:A.targetVideoHeight,width:A.targetVideoWidth,marginTop:A.videoMarginTop,marginLeft:A.videoMarginLeft}),A.containerHeight=A.contentHeight,A.containerWidth=A.contentWidth,A.isMobile||(A.metaHeight=A.$meta.outerHeight(!0),A.containerHeight=A.targetVideoHeight+A.metaHeight)}function b(){var t="";A.gallery.index>0&&(t=A.gallery.$items.eq(A.gallery.index-1).attr("href"),t.indexOf("youtube.com/embed")<0&&t.indexOf("player.vimeo.com/video")<0&&e('<img src="'+t+'">')),A.gallery.index<A.gallery.total&&(t=A.gallery.$items.eq(A.gallery.index+1).attr("href"),t.indexOf("youtube.com/embed")<0&&t.indexOf("player.vimeo.com/video")<0&&e('<img src="'+t+'">'))}function f(t){T(t);var i=e(this);A.isAnimating||i.hasClass("disabled")||(A.isAnimating=!0,A.gallery.index+=i.hasClass("next")?1:-1,A.gallery.index>A.gallery.total&&(A.gallery.index=A.gallery.total),A.gallery.index<0&&(A.gallery.index=0),A.$content.on(z,function(t){if(T(t),e(t.target).is(A.$content)){A.$content.off(z),"undefined"!=typeof A.$image&&A.$image.remove(),"undefined"!=typeof A.$videoWrapper&&A.$videoWrapper.remove(),A.$target=A.gallery.$items.eq(A.gallery.index),A.$caption.html(A.formatter.apply(A.$body,[A.$target])),A.$boxer.removeClass("number-"+A.gallery.index),A.$boxer.addClass("number-"+(A.gallery.index+1)),A.$position.find(".current").html(A.gallery.index+1),console.log(A.$boxer);var i=A.$target.attr("href"),o=i.indexOf("youtube.com/embed")>-1||i.indexOf("player.vimeo.com/video")>-1;o?m(i):l(i),u()}}),A.$boxer.addClass("loading animating"),O||A.$content.trigger(z))}function u(){A.$controls.removeClass("disabled"),0===A.gallery.index&&A.$controls.filter(".previous").addClass("disabled"),A.gallery.index===A.gallery.total&&A.$controls.filter(".next").addClass("disabled")}function x(e){!A.gallery.active||37!==e.keyCode&&39!==e.keyCode?27===e.keyCode&&A.$boxer.find(".boxer-close").trigger("click"):(T(e),A.$controls.filter(37===e.keyCode?".previous":".next").trigger("click"))}function $(t){var i=e(t).find(">:first-child").clone();H(i)}function v(t){t+=t.indexOf("?")>-1?"&"+E.requestKey+"=true":"?"+E.requestKey+"=true";var i=e('<iframe class="boxer-iframe" src="'+t+'" />');H(i)}function H(e){A.$content.append(e),w(e),a()}function w(e){A.windowHeight=A.$window.height()-A.paddingVertical,A.windowWidth=A.$window.width()-A.paddingHorizontal,A.objectHeight=e.outerHeight(!0),A.objectWidth=e.outerWidth(!0),A.targetHeight=A.targetHeight||A.$target.data("boxer-height"),A.targetWidth=A.targetWidth||A.$target.data("boxer-width"),A.maxHeight=A.windowHeight<0?E.minHeight:A.windowHeight,A.isIframe=e.is("iframe"),A.objectMarginTop=0,A.objectMarginLeft=0,A.isMobile||(A.windowHeight-=A.margin,A.windowWidth-=A.margin),A.contentHeight=void 0!==A.targetHeight?A.targetHeight:A.isIframe||A.isMobile?A.windowHeight:A.objectHeight,A.contentWidth=void 0!==A.targetWidth?A.targetWidth:A.isIframe||A.isMobile?A.windowWidth:A.objectWidth,(A.isIframe||A.isObject)&&A.isMobile?(A.contentHeight=A.windowHeight,A.contentWidth=A.windowWidth):A.isObject&&(A.contentHeight=A.contentHeight>A.windowHeight?A.windowHeight:A.contentHeight,A.contentWidth=A.contentWidth>A.windowWidth?A.windowWidth:A.contentWidth),W(A)}function W(e){e.containerHeight=e.contentHeight,e.containerWidth=e.contentWidth,e.$content.css({height:e.contentHeight,width:e.contentWidth})}function y(e){if(T(e),j(A.touchTimer),!A.isAnimating){var t="undefined"!=typeof e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:null;A.xStart=t?t.pageX:e.clientX,A.leftPosition=0,A.touchMax=1/0,A.touchMin=-1/0,A.edge=.25*A.contentWidth,0===A.gallery.index&&(A.touchMax=0),A.gallery.index===A.gallery.total&&(A.touchMin=0),A.$boxer.on("touchmove.boxer",M).one("touchend.boxer",I)}}function M(e){var t="undefined"!=typeof e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:null;A.delta=A.xStart-(t?t.pageX:e.clientX),A.delta>20&&T(e),A.canSwipe=!0;var i=-A.delta;i<A.touchMin&&(i=A.touchMin,A.canSwipe=!1),i>A.touchMax&&(i=A.touchMax,A.canSwipe=!1),A.$image.css({transform:"translate3D("+i+"px,0,0)"}),A.touchTimer=V(A.touchTimer,300,function(){I(e)})}function I(e){T(e),j(A.touchTimer),A.$boxer.off("touchmove.boxer touchend.boxer"),A.delta&&(A.$boxer.addClass("animated"),A.swipe=!1,A.canSwipe&&(A.delta>A.edge||A.delta<-A.edge)?(A.swipe=!0,A.delta<=A.leftPosition?A.$image.css({transform:"translate3D("+A.contentWidth+"px,0,0)"}):A.$image.css({transform:"translate3D("+-A.contentWidth+"px,0,0)"})):A.$image.css({transform:"translate3D(0,0,0)"}),A.swipe&&A.$controls.filter(A.delta<=A.leftPosition?".previous":".next").trigger("click"),V(A.resetTimer,A.duration,function(){A.$boxer.removeClass("animated")}))}function C(e){var t=e[0],i=new Image;return"undefined"!=typeof t.naturalHeight?{naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth}:"img"===t.tagName.toLowerCase()?(i.src=t.src,{naturalHeight:i.height,naturalWidth:i.width}):!1}function T(e){e.preventDefault&&(e.stopPropagation(),e.preventDefault())}function V(e,t,i){return j(e),setTimeout(i,t)}function j(e){e&&(clearTimeout(e),e=null)}function k(){var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},t=document.createElement("div");for(var i in e)if(e.hasOwnProperty(i)&&i in t.style)return e[i];return!1}var z,O,L=null,A={},P=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(t.navigator.userAgent||t.navigator.vendor||t.opera),E={callback:e.noop,customClass:"",extensions:["jpg","sjpg","jpeg","png","gif"],fixed:!1,formatter:e.noop,height:100,labels:{close:"Close",count:"of",next:"Next",previous:"Previous"},margin:50,minHeight:100,minWidth:100,mobile:!1,opacity:.75,retina:!1,requestKey:"boxer",top:0,videoRatio:.5625,videoWidth:600,width:100},S={close:function(){"undefined"!=typeof A.$boxer&&(A.$boxer.off(".boxer"),A.$overlay.trigger("click"))},defaults:function(t){return E=e.extend(E,t||{}),e(this)},destroy:function(){return e(this).off(".boxer")},resize:function(t){return"undefined"!=typeof A.$boxer&&("object"!=typeof t&&(A.targetHeight=arguments[0],A.targetWidth=arguments[1]),"element"===A.type?w(A.$content.find(">:first-child")):"image"===A.type?c():"video"===A.type&&p(),r()),e(this)}};e.fn.boxer=function(e){return S[e]?S[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:i.apply(this,arguments)},e.boxer=function(i,n){return S[i]?S[i].apply(t,Array.prototype.slice.call(arguments,1)):i instanceof e?o.apply(t,[{data:e.extend({$object:i},E,n||{})}]):void 0}}(jQuery,window);